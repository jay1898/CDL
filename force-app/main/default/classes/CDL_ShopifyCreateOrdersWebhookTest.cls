@isTest
public class CDL_ShopifyCreateOrdersWebhookTest {

    @isTest
    public static void testReceiveShopifyWebhook() {
        // Create test data for the RestRequest
        RestRequest req = new RestRequest();
        RestContext.request = req;
        req.requestURI = '/services/apexrest/shopifyWebhook/';
        req.httpMethod = 'POST';
        //old Requestbody
       	//req.requestBody = Blob.valueOf('{"id":5390658502711,"app_id":44930990081,"browser_ip":null,"buyer_accepts_marketing":false,"cancel_reason":null,"cancelled_at":null,"cart_token":null,"checkout_id":null,"checkout_token":null,"client_details":null,"closed_at":null,"confirmation_number":"G55EF18MZ","confirmed":true,"contact_email":"rddivan5@gmail.com","created_at":"2023-11-01T15:36:27+05:30","currency":"INR","current_subtotal_price":"910.58","current_subtotal_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"current_total_additional_fees_set":null,"current_total_discounts":"438.42","current_total_discounts_set":{"shop_money":{"amount":"438.42","currency_code":"INR"},"presentment_money":{"amount":"438.42","currency_code":"INR"}},"current_total_duties_set":null,"current_total_price":"910.58","current_total_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"current_total_tax":"0.00","current_total_tax_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"customer_locale":null,"device_id":null,"discount_codes":[{"code":"DIWALI25","amount":"438.42","type":"fixed_amount"}],"email":"rddivan5@gmail.com","estimated_taxes":false,"financial_status":"paid","fulfillment_status":null,"landing_site":null,"landing_site_ref":null,"location_id":null,"merchant_of_record_app_id":null,"name":"#2882","note":null,"note_attributes":[{"name":"gokwik_cid","value":"b7c2b422-0acc-4483-83a0-b1f2d2242814"},{"name":"utm_source","value":"direct"}],"number":1882,"order_number":2882,"order_status_url":"https:fieryflair.com26667253815orders6a198724281b549241936bfa59278995authenticate?key=99d8f38305cf5d617a72171b001a117d","original_total_additional_fees_set":null,"original_total_duties_set":null,"payment_gateway_names":["Gokwik UPI"],"phone":"+919892135935","po_number":null,"presentment_currency":"INR","processed_at":"2023-11-01T15:36:27+05:30","reference":null,"referring_site":null,"source_identifier":null,"source_name":"44930990081","source_url":null,"subtotal_price":"910.58","subtotal_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"tags":"GoKwik, PREPAID-DISCOUNT, UPI","tax_exempt":false,"tax_lines":[],"taxes_included":true,"test":false,"token":"6a198724281b549241936bfa59278995","total_discounts":"438.42","total_discounts_set":{"shop_money":{"amount":"438.42","currency_code":"INR"},"presentment_money":{"amount":"438.42","currency_code":"INR"}},"total_line_items_price":"1349.00","total_line_items_price_set":{"shop_money":{"amount":"1349.00","currency_code":"INR"},"presentment_money":{"amount":"1349.00","currency_code":"INR"}},"total_outstanding":"0.00","total_price":"910.58","total_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"total_shipping_price_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"total_tax":"0.00","total_tax_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"total_tip_received":"0.00","total_weight":0,"updated_at":"2023-11-01T15:36:28+05:30","user_id":null,"billing_address":{"first_name":"Rishi","address1":"Greencity Pal Surat","phone":"9892135935","city":"SURAT","zip":"394510","province":"Gujarat","country":"India","last_name":".","address2":null,"company":null,"latitude":null,"longitude":null,"name":"Rishi .","country_code":"IN","province_code":"GJ"},"customer":{"id":6353268637751,"email":"rddivan5@gmail.com","accepts_marketing":true,"created_at":"2023-11-01T15:36:27+05:30","updated_at":"2023-11-01T15:36:28+05:30","first_name":"Rishi","last_name":".","state":"disabled","note":null,"verified_email":true,"multipass_identifier":null,"tax_exempt":false,"phone":null,"email_marketing_consent":{"state":"subscribed","opt_in_level":"single_opt_in","consent_updated_at":"2023-11-01T15:36:28+05:30"},"sms_marketing_consent":null,"tags":"","currency":"INR","accepts_marketing_updated_at":"2023-11-01T15:36:28+05:30","marketing_opt_in_level":"single_opt_in","tax_exemptions":[],"admin_graphql_api_id":"gid:shopifyCustomer6353268637751","default_address":{"id":7831212392503,"customer_id":6353268637751,"first_name":"Rishi","last_name":".","company":null,"address1":"Greencity Pal Surat","address2":null,"city":"SURAT","province":"Gujarat","country":"India","zip":"394510","phone":"9892135935","name":"Rishi .","province_code":"GJ","country_code":"IN","country_name":"India","default":true}},"discount_applications":[{"target_type":"line_item","type":"discount_code","value":"438.42","value_type":"fixed_amount","allocation_method":"across","target_selection":"all","code":"DIWALI25"}],"fulfillments":[],"line_items":[{"id":13057576665143,"admin_graphql_api_id":"gid:shopifyLineItem13057576665143","attributed_staffs":[],"current_quantity":1,"fulfillable_quantity":1,"fulfillment_service":"manual","fulfillment_status":null,"gift_card":false,"grams":2,"name":"Dainty Heart Silver Ring - White","price":"1349.00","price_set":{"shop_money":{"amount":"1349.00","currency_code":"INR"},"presentment_money":{"amount":"1349.00","currency_code":"INR"}},"product_exists":true,"product_id":6707740934199,"properties":[],"quantity":1,"requires_shipping":true,"sku":"FF-LR1551","taxable":false,"title":"Dainty Heart Silver Ring","total_discount":"0.00","total_discount_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"variant_id":39930469875767,"variant_inventory_management":"shopify","variant_title":"White","vendor":"FIERY FLAIR","tax_lines":[],"duties":[],"discount_allocations":[{"amount":"438.42","amount_set":{"shop_money":{"amount":"438.42","currency_code":"INR"},"presentment_money":{"amount":"438.42","currency_code":"INR"}},"discount_application_index":0}]}],"payment_terms":null,"refunds":[],"shipping_address":{"first_name":"Rishi","address1":"Greencity Pal Surat","phone":"9892135935","city":"SURAT","zip":"394510","province":"Gujarat","country":"India","last_name":".","address2":null,"company":null,"latitude":null,"longitude":null,"name":"Rishi .","country_code":"IN","province_code":"GJ"},"shipping_lines":[{"id":4431959719991,"carrier_identifier":null,"code":"Free Shipping","discounted_price":"0.00","discounted_price_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"phone":null,"price":"0.00","price_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"requested_fulfillment_service_id":null,"source":null,"title":"Free Shipping","tax_lines":[],"discount_allocations":[]}]}');
		//new RequestBody
        req.requestBody = Blob.valueOf('{"id":5390658502711,"app_id":44930990081,"browser_ip":null,"buyer_accepts_marketing":false,"cancel_reason":null,"cancelled_at":null,"cart_token":null,"checkout_id":null,"checkout_token":null,"client_details":null,"closed_at":null,"confirmation_number":"G55EF18MZ","confirmed":true,"contact_email":"rddivan5@gmail.com","created_at":"2023-11-01T15:36:27+05:30","currency":"INR","current_subtotal_price":"910.58","current_subtotal_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"current_total_additional_fees_set":null,"current_total_discounts":"438.42","current_total_discounts_set":{"shop_money":{"amount":"438.42","currency_code":"INR"},"presentment_money":{"amount":"438.42","currency_code":"INR"}},"current_total_duties_set":null,"current_total_price":"910.58","current_total_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"current_total_tax":"0.00","current_total_tax_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"customer_locale":null,"device_id":null,"discount_codes":[{"code":"DIWALI25","amount":"438.42","type":"fixed_amount"}],"email":"rddivan5@gmail.com","estimated_taxes":false,"financial_status":"paid","fulfillment_status":null,"landing_site":null,"landing_site_ref":null,"location_id":null,"merchant_of_record_app_id":null,"name":"#2882","note":null,"note_attributes":[{"name":"gokwik_cid","value":"b7c2b422-0acc-4483-83a0-b1f2d2242814"},{"name":"utm_source","value":"direct"}],"number":1882,"order_number":2882,"order_status_url":"https:fieryflair.com26667253815orders6a198724281b549241936bfa59278995authenticate?key=99d8f38305cf5d617a72171b001a117d","original_total_additional_fees_set":null,"original_total_duties_set":null,"payment_gateway_names":["Gokwik UPI"],"phone":"+919892135935","po_number":null,"presentment_currency":"INR","processed_at":"2023-11-01T15:36:27+05:30","reference":null,"referring_site":null,"source_identifier":null,"source_name":"44930990081","source_url":null,"subtotal_price":"910.58","subtotal_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"tags":"GoKwik, PREPAID-DISCOUNT, UPI","tax_exempt":false,"tax_lines":[],"taxes_included":true,"test":false,"token":"6a198724281b549241936bfa59278995","total_discounts":"438.42","total_discounts_set":{"shop_money":{"amount":"438.42","currency_code":"INR"},"presentment_money":{"amount":"438.42","currency_code":"INR"}},"total_line_items_price":"1349.00","total_line_items_price_set":{"shop_money":{"amount":"1349.00","currency_code":"INR"},"presentment_money":{"amount":"1349.00","currency_code":"INR"}},"total_outstanding":"0.00","total_price":"910.58","total_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"total_shipping_price_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"total_tax":"0.00","total_tax_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"total_tip_received":"0.00","total_weight":0,"updated_at":"2023-11-01T15:36:28+05:30","user_id":null,"billing_address":{"first_name":"Rishi","address1":"Greencity Pal Surat","phone":"9892135935","city":"SURAT","zip":"394510","province":"Gujarat","country":"India","last_name":".","address2":null,"company":null,"latitude":null,"longitude":null,"name":"Rishi .","country_code":"IN","province_code":"GJ"},"customer":{"id":6353268637751,"email":"rddivan5@gmail.com","accepts_marketing":true,"created_at":"2023-11-01T15:36:27+05:30","updated_at":"2023-11-01T15:36:28+05:30","first_name":"Rishi","last_name":".","state":"disabled","note":null,"verified_email":true,"multipass_identifier":null,"tax_exempt":false,"phone":null,"email_marketing_consent":{"state":"subscribed","opt_in_level":"single_opt_in","consent_updated_at":"2023-11-01T15:36:28+05:30"},"sms_marketing_consent":null,"tags":"","currency":"INR","accepts_marketing_updated_at":"2023-11-01T15:36:28+05:30","marketing_opt_in_level":"single_opt_in","tax_exemptions":[],"admin_graphql_api_id":"gid:shopifyCustomer6353268637751","default_address":{"id":7831212392503,"customer_id":6353268637751,"first_name":"Rishi","last_name":".","company":null,"address1":"Greencity Pal Surat","address2":null,"city":"SURAT","province":"Gujarat","country":"India","zip":"394510","phone":"9892135935","name":"Rishi .","province_code":"GJ","country_code":"IN","country_name":"India","default":true}},"discount_applications":[{"target_type":"line_item","type":"discount_code","value":"438.42","value_type":"fixed_amount","allocation_method":"across","target_selection":"all","code":"DIWALI25"}],"fulfillments":[],"line_items":[{"id":13057576665143,"admin_graphql_api_id":"gid:shopifyLineItem13057576665143","attributed_staffs":[],"current_quantity":1,"fulfillable_quantity":1,"fulfillment_service":"manual","fulfillment_status":null,"gift_card":false,"grams":2,"name":"Dainty Heart Silver Ring - White","price":"1349.00","price_set":{"shop_money":{"amount":"1349.00","currency_code":"INR"},"presentment_money":{"amount":"1349.00","currency_code":"INR"}},"product_exists":true,"product_id":6707740934199,"properties":[],"quantity":1,"requires_shipping":true,"sku":"FF-LR1551","taxable":false,"title":"Dainty Heart Silver Ring","total_discount":"0.00","total_discount_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"variant_id":39930469875767,"variant_inventory_management":"shopify","variant_title":"White","vendor":"FIERY FLAIR","tax_lines":[],"duties":[],"discount_allocations":[{"amount":"438.42","amount_set":{"shop_money":{"amount":"438.42","currency_code":"INR"},"presentment_money":{"amount":"438.42","currency_code":"INR"}},"discount_application_index":0}]},{"id":14031845851191,"admin_graphql_api_id":"gid:shopifyLineItem14031845851191","attributed_staffs":[],"fulfillable_quantity":1,"fulfillment_service":"manual","fulfillment_status":null,"gift_card":false,"grams":2,"name":"Sleek Design Silver Bangle - White","price":"5899.00","price_set":{"shop_money":{"amount":"5899.00","currency_code":"INR"},"presentment_money":{"amount":"5899.00","currency_code":"INR"}},"product_exists":true,"product_id":6749543530551,"properties":[{"name":"Bangle Size","value":"2_6_60_30"}],"quantity":1,"requires_shipping":true,"sku":"FF-BNG1038","taxable":true,"title":"Sleek Design Silver Bangle","total_discount":"0.00","total_discount_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"variant_id":40055311826999,"variant_inventory_management":"shopify","variant_title":"White","vendor":"FIERY FLAIR","tax_lines":[],"duties":[],"discount_allocations":[{"amount":"855.36","amount_set":{"shop_money":{"amount":"855.36","currency_code":"INR"},"presentment_money":{"amount":"855.36","currency_code":"INR"}},"discount_application_index":0}]}],"payment_terms":null,"refunds":[],"shipping_address":{"first_name":"Rishi","address1":"Greencity Pal Surat","phone":"9892135935","city":"SURAT","zip":"394510","province":"Gujarat","country":"India","last_name":".","address2":null,"company":null,"latitude":null,"longitude":null,"name":"Rishi .","country_code":"IN","province_code":"GJ"},"shipping_lines":[{"id":4431959719991,"carrier_identifier":null,"code":"Free Shipping","discounted_price":"0.00","discounted_price_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"phone":null,"price":"0.00","price_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"requested_fulfillment_service_id":null,"source":null,"title":"Free Shipping","tax_lines":[],"discount_allocations":null}]}');
        Test.setMock(HttpCalloutMock.class, new MyHttpCalloutMockCreateTrelloCard());
        // Call the receiveShopifyWebhook method
        Test.startTest();
        CDL_ShopifyCreateOrdersWebhook.receiveShopifyWebhook();
        CDL_ShopifyCreateOrdersWebhook.createTrelloCard('5390658502711');
        Test.stopTest();
        
        // Assert the expected results
        List<Shopify_Data__c> responseRecords = [SELECT Name, Response_Data__c FROM Shopify_Data__c WHERE Name = 'Create Order 5390658502711'];
        //System.assertNotEquals(0, responseRecords.size());
        
        // Add more assertions as needed
    }
	@isTest
    public static void testReceiveShopifyAbandonOrderWebhook() {
        Account a = new Account();
        a.Name = 'test test';
        a.AccountNumber = '6353252483127';
        a.AccountSource = 'Other';
        insert a;
        Id recordTypeId = Schema.SObjectType.Order__c.getRecordTypeInfosByName().get('Confirm Order').getRecordTypeId();
        Order__c objo = new Order__c();
        objo.Account__c = a.Id;
        objo.Name = '2844';
        objo.Order_Id__c = '5390802518071';
        objo.RecordTypeId = recordTypeId;
        objo.Status__c = 'Confirm';
        objo.Payment_Status__c = 'Paid';
        insert objo;
        // Create test data for the RestRequest
        RestRequest req = new RestRequest();
        RestContext.request = req;
        req.requestURI = '/services/apexrest/shopifyWebhook/';
        req.httpMethod = 'POST';
        req.requestBody = Blob.valueOf('{"id":5390658502711,"app_id":44930990081,"browser_ip":null,"buyer_accepts_marketing":false,"cancel_reason":null,"cancelled_at":null,"cart_token":null,"checkout_id":null,"checkout_token":null,"client_details":null,"closed_at":null,"confirmation_number":"G55EF18MZ","confirmed":true,"contact_email":"rddivan5@gmail.com","created_at":"2023-11-01T15:36:27+05:30","currency":"INR","current_subtotal_price":"910.58","current_subtotal_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"current_total_additional_fees_set":null,"current_total_discounts":"438.42","current_total_discounts_set":{"shop_money":{"amount":"438.42","currency_code":"INR"},"presentment_money":{"amount":"438.42","currency_code":"INR"}},"current_total_duties_set":null,"current_total_price":"910.58","current_total_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"current_total_tax":"0.00","current_total_tax_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"customer_locale":null,"device_id":null,"discount_codes":[{"code":"DIWALI25","amount":"438.42","type":"fixed_amount"}],"email":"rddivan5@gmail.com","estimated_taxes":false,"financial_status":"paid","fulfillment_status":null,"landing_site":null,"landing_site_ref":null,"location_id":null,"merchant_of_record_app_id":null,"name":"#2882","note":null,"note_attributes":[{"name":"gokwik_cid","value":"b7c2b422-0acc-4483-83a0-b1f2d2242814"},{"name":"utm_source","value":"direct"}],"number":1882,"order_number":2882,"order_status_url":"https:fieryflair.com26667253815orders6a198724281b549241936bfa59278995authenticate?key=99d8f38305cf5d617a72171b001a117d","original_total_additional_fees_set":null,"original_total_duties_set":null,"payment_gateway_names":["Gokwik UPI"],"phone":"+919892135935","po_number":null,"presentment_currency":"INR","processed_at":"2023-11-01T15:36:27+05:30","reference":null,"referring_site":null,"source_identifier":"SF Abandon Order","source_name":'+objo.Id +',"source_url":null,"subtotal_price":"910.58","subtotal_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"tags":"GoKwik, PREPAID-DISCOUNT, UPI","tax_exempt":false,"tax_lines":[],"taxes_included":true,"test":false,"token":"6a198724281b549241936bfa59278995","total_discounts":"438.42","total_discounts_set":{"shop_money":{"amount":"438.42","currency_code":"INR"},"presentment_money":{"amount":"438.42","currency_code":"INR"}},"total_line_items_price":"1349.00","total_line_items_price_set":{"shop_money":{"amount":"1349.00","currency_code":"INR"},"presentment_money":{"amount":"1349.00","currency_code":"INR"}},"total_outstanding":"0.00","total_price":"910.58","total_price_set":{"shop_money":{"amount":"910.58","currency_code":"INR"},"presentment_money":{"amount":"910.58","currency_code":"INR"}},"total_shipping_price_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"total_tax":"0.00","total_tax_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"total_tip_received":"0.00","total_weight":0,"updated_at":"2023-11-01T15:36:28+05:30","user_id":null,"billing_address":{"first_name":"Rishi","address1":"Greencity Pal Surat","phone":"9892135935","city":"SURAT","zip":"394510","province":"Gujarat","country":"India","last_name":".","address2":null,"company":null,"latitude":null,"longitude":null,"name":"Rishi .","country_code":"IN","province_code":"GJ"},"customer":{"id":6353268637751,"email":"rddivan5@gmail.com","accepts_marketing":true,"created_at":"2023-11-01T15:36:27+05:30","updated_at":"2023-11-01T15:36:28+05:30","first_name":"Rishi","last_name":".","state":"disabled","note":null,"verified_email":true,"multipass_identifier":null,"tax_exempt":false,"phone":null,"email_marketing_consent":{"state":"subscribed","opt_in_level":"single_opt_in","consent_updated_at":"2023-11-01T15:36:28+05:30"},"sms_marketing_consent":null,"tags":"","currency":"INR","accepts_marketing_updated_at":"2023-11-01T15:36:28+05:30","marketing_opt_in_level":"single_opt_in","tax_exemptions":[],"admin_graphql_api_id":"gid:shopifyCustomer6353268637751","default_address":{"id":7831212392503,"customer_id":6353268637751,"first_name":"Rishi","last_name":".","company":null,"address1":"Greencity Pal Surat","address2":null,"city":"SURAT","province":"Gujarat","country":"India","zip":"394510","phone":"9892135935","name":"Rishi .","province_code":"GJ","country_code":"IN","country_name":"India","default":true}},"discount_applications":[{"target_type":"line_item","type":"discount_code","value":"438.42","value_type":"fixed_amount","allocation_method":"across","target_selection":"all","code":"DIWALI25"}],"fulfillments":[],"line_items":[{"id":13057576665143,"admin_graphql_api_id":"gid:shopifyLineItem13057576665143","attributed_staffs":[],"current_quantity":1,"fulfillable_quantity":1,"fulfillment_service":"manual","fulfillment_status":null,"gift_card":false,"grams":2,"name":"Dainty Heart Silver Ring - White","price":"1349.00","price_set":{"shop_money":{"amount":"1349.00","currency_code":"INR"},"presentment_money":{"amount":"1349.00","currency_code":"INR"}},"product_exists":true,"product_id":6707740934199,"properties":[],"quantity":1,"requires_shipping":true,"sku":"FF-LR1551","taxable":false,"title":"Dainty Heart Silver Ring","total_discount":"0.00","total_discount_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"variant_id":39930469875767,"variant_inventory_management":"shopify","variant_title":"White","vendor":"FIERY FLAIR","tax_lines":[],"duties":[],"discount_allocations":[{"amount":"438.42","amount_set":{"shop_money":{"amount":"438.42","currency_code":"INR"},"presentment_money":{"amount":"438.42","currency_code":"INR"}},"discount_application_index":0}]}],"payment_terms":null,"refunds":[],"shipping_address":{"first_name":"Rishi","address1":"Greencity Pal Surat","phone":"9892135935","city":"SURAT","zip":"394510","province":"Gujarat","country":"India","last_name":".","address2":null,"company":null,"latitude":null,"longitude":null,"name":"Rishi .","country_code":"IN","province_code":"GJ"},"shipping_lines":[{"id":4431959719991,"carrier_identifier":null,"code":"Free Shipping","discounted_price":"0.00","discounted_price_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"phone":null,"price":"0.00","price_set":{"shop_money":{"amount":"0.00","currency_code":"INR"},"presentment_money":{"amount":"0.00","currency_code":"INR"}},"requested_fulfillment_service_id":null,"source":null,"title":"Free Shipping","tax_lines":[],"discount_allocations":[]}]}');
        Test.setMock(HttpCalloutMock.class, new MyHttpCalloutMockCreateTrelloCard());
        Test.setMock(HttpCalloutMock.class, new MyHttpCalloutMockCreateTrelloCard1());
        // Call the receiveShopifyWebhook method
        Test.startTest();
        CDL_ShopifyCreateOrdersWebhook.receiveShopifyWebhook();
        Test.stopTest();
        
        // Assert the expected results
        List<Shopify_Data__c> responseRecords = [SELECT Name, Response_Data__c,Error_Log__c FROM Shopify_Data__c];
        system.debug('responseRecords' +responseRecords);
        //System.assertNotEquals(0, responseRecords.size());
        
        // Add more assertions as needed
    }
   /* @isTest
    public static void testCreateTrelloCard() {
       
        // Create test data for Order__c and Order_Item__c
        Order__c testOrder = new Order__c(
            Order_Id__c = '5390658502711',
            Status__c = 'Confirm',
            Payment_Status__c = 'Paid'
        );
        insert testOrder;

        Order_Item__c testOrderItem = new Order_Item__c(
            Order__c = testOrder.Id,
            Product_Name__c = 'Product 1',
            SKU__c = 'SKU1',
            Product_Variant_Id__c = 'Var1',
            Product_Id__c = 'Prod1'
        );
        insert testOrderItem;

        // Call the createTrelloCard method
        Test.startTest();
        CDL_ShopifyCreateOrdersWebhook.createTrelloCard('123');
        Test.stopTest();
        
        // Assert the expected results
        List<Shopify_Data__c> responseRecords = [SELECT Name, Response_Data__c FROM Shopify_Data__c WHERE Name = 'Create Trello Card 123'];
        System.assertNotEquals(0, responseRecords.size());
        
        // Add more assertions as needed
    }*/
    public class MyHttpCalloutMockCreateTrelloCard implements HttpCalloutMock {
        public HTTPResponse respond(HTTPRequest req) {
            String endpoint = req.getEndpoint();
            // Create a mock HTTPResponse to simulate the response
            HttpResponse res = new HttpResponse();
            if(endpoint.contains('https://api.trello.com/1/cards')){
                res.setHeader('Content-Type', 'application/json');
                res.setBody('{ "id":"6541e72dd11841f8c08f42ac", "badges":{ "attachmentsByType":{ "trello":{ "board":0, "card":0 } }, "location":false, "votes":0, "viewingMemberVoted":false, "subscribed":false, "fogbugz":"", "checkItems":0, "checkItemsChecked":0, "checkItemsEarliestDue":null, "comments":0, "attachments":1, "description":true, "due":null, "dueComplete":false, "start":null }, "checkItemStates":[ ], "closed":false, "dueComplete":false, "dateLastActivity":"2023-11-01T06:34:04.396Z", "desc":"Sophisticated Geometric Silver Bracelet - Yellow SKU: FF-BRC1128", "descData":{ "emoji":{ } }, "due":null, "dueReminder":null, "email":null, "idBoard":"645ce768cc64abc7cc3d7e32", "idChecklists":[ ], "idList":"64a8de1b385d6773f0985239", "idMembers":[ ], "idMembersVoted":[ ], "idShort":2146, "idAttachmentCover":"6541e72f533819ffa9db2190", "labels":[ ], "idLabels":[ ], "manualCoverAttachment":false, "name":"#2880", "pos":196608, "shortLink":"RJPUClNs", "shortUrl":"https://trello.com/c/RJPUClNs", "start":null, "subscribed":false, "url":"https://trello.com/c/RJPUClNs/2146-2880", "cover":{ "idAttachment":"6541e72f533819ffa9db2190", "color":null, "idUploadedBackground":null, "size":"normal", "brightness":"dark", "scaled":[ { "_id":"6541e730533819ffa9db2304", "id":"6541e730533819ffa9db2304", "scaled":false, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2304/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":1404, "height":50, "width":70 }, { "_id":"6541e730533819ffa9db2306", "id":"6541e730533819ffa9db2306", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2306/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":2696, "height":150, "width":150 }, { "_id":"6541e730533819ffa9db2305", "id":"6541e730533819ffa9db2305", "scaled":false, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2305/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":3190, "height":150, "width":250 }, { "_id":"6541e730533819ffa9db2307", "id":"6541e730533819ffa9db2307", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2307/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":6045, "height":300, "width":300 }, { "_id":"6541e730533819ffa9db2308", "id":"6541e730533819ffa9db2308", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2308/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":15668, "height":600, "width":600 }, { "_id":"6541e730533819ffa9db2309", "id":"6541e730533819ffa9db2309", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2309/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":36151, "height":1024, "width":1024 }, { "_id":"6541e730533819ffa9db230a", "id":"6541e730533819ffa9db230a", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db230a/download/WhatsAppImage2023-08-10at12.26.57PM.jpg", "bytes":42092, "height":1024, "width":1024 } ], "edgeColor":"#fcfcfc", "idPlugin":null }, "isTemplate":false, "cardRole":null }');
                res.setStatusCode(200);
            }
            else if(endpoint.contains('/admin/api/2023-10/products')){
                res.setHeader('Content-Type', 'application/json');
                //Ring
                //res.setBody('{ "product": { "id": 6864668786743, "title": "Blue Stone Mens Solitaire Ring", "vendor": "FIERY FLAIR", "product_type": "Ring", "created_at": "2023-11-02T11:51:33+05:30", "handle": "blue-stone-mens-solitaire-ring", "updated_at": "2023-11-02T11:53:34+05:30", "published_at": null, "template_suffix": "", "published_scope": "web", "tags": "cubic_zicronia, label_best_seller, Mens, ring, Rings", "status": "draft", "admin_graphql_api_id": "gid://shopify/Product/6864668786743", "options": [ { "id": 8790823141431, "product_id": 6864668786743, "name": "Gold Color", "position": 1, "values": [ "Yellow", "White" ] } ], "images": [ { "id": 30679043997751, "alt": null, "position": 1, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:37+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043997751", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157", "variant_ids": [ 39930469875767 ] }, { "id": 30679044194359, "alt": null, "position": 2, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:29+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679044194359", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.44PM.jpg?v=1698906161", "variant_ids": [ 40339811926071 ] }, { "id": 30679043899447, "alt": null, "position": 3, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043899447", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM_1.jpg?v=1698906161", "variant_ids": [] }, { "id": 30679044030519, "alt": null, "position": 4, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679044030519", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM.jpg?v=1698906161", "variant_ids": [] }, { "id": 30679043932215, "alt": null, "position": 5, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043932215", "width": 1440, "height": 1440, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/FF-GR1124-MODEL.jpg?v=1698906161", "variant_ids": [] }, { "id": 30679044161591, "alt": null, "position": 6, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:29+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679044161591", "width": 1440, "height": 1440, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.30PM.jpg?v=1698906161", "variant_ids": [] }, { "id": 30679043670071, "alt": null, "position": 7, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:05+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043670071", "width": 1080, "height": 1280, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/Silver_46f7f521-e347-46c7-acd7-e34f2f66ed51.gif?v=1698906161", "variant_ids": [] } ], "image": { "id": 30679043997751, "alt": null, "position": 1, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:37+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043997751", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157", "variant_ids": [ 40339811893303 ] } } }');
                //Bangle
                res.setBody('{"product":{"id":6749543530551,"title":"Sleek Design Silver Bangle - White","vendor":"FIERY FLAIR","product_type":"Bangle","created_at":"2023-11-02T11:51:33+05:30","handle":"blue-stone-mens-solitaire-ring","updated_at":"2023-11-02T11:53:34+05:30","published_at":null,"template_suffix":"","published_scope":"web","tags":"cubic_zicronia, label_best_seller, Mens, ring, Rings","status":"draft","admin_graphql_api_id":"gid://shopify/Product/6749543530551","properties":[{"name":"Bangle Size","value":"2_6_60_30"}],"images":[{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[39930469875767]},{"id":30679044194359,"alt":null,"position":2,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044194359","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.44PM.jpg?v=1698906161","variant_ids":[40339811926071]},{"id":30679043899447,"alt":null,"position":3,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043899447","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM_1.jpg?v=1698906161","variant_ids":[]},{"id":30679044030519,"alt":null,"position":4,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044030519","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043932215,"alt":null,"position":5,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043932215","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/FF-GR1124-MODEL.jpg?v=1698906161","variant_ids":[]},{"id":30679044161591,"alt":null,"position":6,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044161591","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.30PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043670071,"alt":null,"position":7,"product_id":6864668786743,"created_at":"2023-11-02T11:52:05+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043670071","width":1080,"height":1280,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/Silver_46f7f521-e347-46c7-acd7-e34f2f66ed51.gif?v=1698906161","variant_ids":[]}],"image":{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[40339811893303]}}}');
                //Two Products
                //res.setBody('{"product":[{"id":6749543530551,"title":"Sleek Design Silver Bangle - White","vendor":"FIERY FLAIR","product_type":"Bangle","created_at":"2023-11-02T11:51:33+05:30","handle":"blue-stone-mens-solitaire-ring","updated_at":"2023-11-02T11:53:34+05:30","published_at":null,"template_suffix":"","published_scope":"web","tags":"cubic_zicronia, label_best_seller, Mens, ring, Rings","status":"draft","admin_graphql_api_id":"gid://shopify/Product/6749543530551","properties":[{"name":"Bangle Size","value":"2_6_60_30"}],"images":[{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[39930469875767]},{"id":30679044194359,"alt":null,"position":2,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044194359","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.44PM.jpg?v=1698906161","variant_ids":[40339811926071]},{"id":30679043899447,"alt":null,"position":3,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043899447","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM_1.jpg?v=1698906161","variant_ids":[]},{"id":30679044030519,"alt":null,"position":4,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044030519","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043932215,"alt":null,"position":5,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043932215","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/FF-GR1124-MODEL.jpg?v=1698906161","variant_ids":[]},{"id":30679044161591,"alt":null,"position":6,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044161591","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.30PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043670071,"alt":null,"position":7,"product_id":6864668786743,"created_at":"2023-11-02T11:52:05+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043670071","width":1080,"height":1280,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/Silver_46f7f521-e347-46c7-acd7-e34f2f66ed51.gif?v=1698906161","variant_ids":[]}],"image":{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[40339811893303]}},{"id":7124676411447,"title":"Solitary Silver Mangalsutra Bracelet","vendor":"FIERY FLAIR","product_type":"Bracelet","created_at":"2023-11-02T11:51:33+05:30","handle":"blue-stone-mens-solitaire-ring","updated_at":"2023-11-02T11:53:34+05:30","published_at":null,"template_suffix":"","published_scope":"web","tags":"cubic_zicronia, label_best_seller, Mens, ring, Rings","status":"draft","admin_graphql_api_id":"gid://shopify/Product/6749543530551","properties":[{"name":"Bangle Size","value":"2_6_60_30"}],"images":[{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[39930469875767]},{"id":30679044194359,"alt":null,"position":2,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044194359","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.44PM.jpg?v=1698906161","variant_ids":[40339811926071]},{"id":30679043899447,"alt":null,"position":3,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043899447","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM_1.jpg?v=1698906161","variant_ids":[]},{"id":30679044030519,"alt":null,"position":4,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044030519","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043932215,"alt":null,"position":5,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043932215","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/FF-GR1124-MODEL.jpg?v=1698906161","variant_ids":[]},{"id":30679044161591,"alt":null,"position":6,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044161591","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.30PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043670071,"alt":null,"position":7,"product_id":6864668786743,"created_at":"2023-11-02T11:52:05+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043670071","width":1080,"height":1280,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/Silver_46f7f521-e347-46c7-acd7-e34f2f66ed51.gif?v=1698906161","variant_ids":[]}],"image":{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[40339811893303]}}]}}}}');
                res.setStatusCode(200); 
            }
            else{
                res.setHeader('Content-Type', 'application/json');
                res.setBody('{ "id":"6541e72dd11841f8c08f42ac", "badges":{ "attachmentsByType":{ "trello":{ "board":0, "card":0 } }, "location":false, "votes":0, "viewingMemberVoted":false, "subscribed":false, "fogbugz":"", "checkItems":0, "checkItemsChecked":0, "checkItemsEarliestDue":null, "comments":0, "attachments":1, "description":true, "due":null, "dueComplete":false, "start":null }, "checkItemStates":[ ], "closed":false, "dueComplete":false, "dateLastActivity":"2023-11-01T06:34:04.396Z", "desc":"Sophisticated Geometric Silver Bracelet - Yellow SKU: FF-BRC1128", "descData":{ "emoji":{ } }, "due":null, "dueReminder":null, "email":null, "idBoard":"645ce768cc64abc7cc3d7e32", "idChecklists":[ ], "idList":"64a8de1b385d6773f0985239", "idMembers":[ ], "idMembersVoted":[ ], "idShort":2146, "idAttachmentCover":"6541e72f533819ffa9db2190", "labels":[ ], "idLabels":[ ], "manualCoverAttachment":false, "name":"#2880", "pos":196608, "shortLink":"RJPUClNs", "shortUrl":"https://trello.com/c/RJPUClNs", "start":null, "subscribed":false, "url":"https://trello.com/c/RJPUClNs/2146-2880", "cover":{ "idAttachment":"6541e72f533819ffa9db2190", "color":null, "idUploadedBackground":null, "size":"normal", "brightness":"dark", "scaled":[ { "_id":"6541e730533819ffa9db2304", "id":"6541e730533819ffa9db2304", "scaled":false, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2304/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":1404, "height":50, "width":70 }, { "_id":"6541e730533819ffa9db2306", "id":"6541e730533819ffa9db2306", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2306/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":2696, "height":150, "width":150 }, { "_id":"6541e730533819ffa9db2305", "id":"6541e730533819ffa9db2305", "scaled":false, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2305/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":3190, "height":150, "width":250 }, { "_id":"6541e730533819ffa9db2307", "id":"6541e730533819ffa9db2307", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2307/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":6045, "height":300, "width":300 }, { "_id":"6541e730533819ffa9db2308", "id":"6541e730533819ffa9db2308", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2308/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":15668, "height":600, "width":600 }, { "_id":"6541e730533819ffa9db2309", "id":"6541e730533819ffa9db2309", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2309/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":36151, "height":1024, "width":1024 }, { "_id":"6541e730533819ffa9db230a", "id":"6541e730533819ffa9db230a", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db230a/download/WhatsAppImage2023-08-10at12.26.57PM.jpg", "bytes":42092, "height":1024, "width":1024 } ], "edgeColor":"#fcfcfc", "idPlugin":null }, "isTemplate":false, "cardRole":null }');
                res.setStatusCode(200);
            }
            return res;
        }
    }
    
    public class MyHttpCalloutMockCreateTrelloCard1 implements HttpCalloutMock {
        public HTTPResponse respond(HTTPRequest req) {
            String endpoint = req.getEndpoint();
            // Create a mock HTTPResponse to simulate the response
            HttpResponse res = new HttpResponse();
            if(endpoint.contains('https://api.trello.com/1/cards')){
                res.setHeader('Content-Type', 'application/json');
                res.setBody('{ "id":"6541e72dd11841f8c08f42ac", "badges":{ "attachmentsByType":{ "trello":{ "board":0, "card":0 } }, "location":false, "votes":0, "viewingMemberVoted":false, "subscribed":false, "fogbugz":"", "checkItems":0, "checkItemsChecked":0, "checkItemsEarliestDue":null, "comments":0, "attachments":1, "description":true, "due":null, "dueComplete":false, "start":null }, "checkItemStates":[ ], "closed":false, "dueComplete":false, "dateLastActivity":"2023-11-01T06:34:04.396Z", "desc":"Sophisticated Geometric Silver Bracelet - Yellow SKU: FF-BRC1128", "descData":{ "emoji":{ } }, "due":null, "dueReminder":null, "email":null, "idBoard":"645ce768cc64abc7cc3d7e32", "idChecklists":[ ], "idList":"64a8de1b385d6773f0985239", "idMembers":[ ], "idMembersVoted":[ ], "idShort":2146, "idAttachmentCover":"6541e72f533819ffa9db2190", "labels":[ ], "idLabels":[ ], "manualCoverAttachment":false, "name":"#2880", "pos":196608, "shortLink":"RJPUClNs", "shortUrl":"https://trello.com/c/RJPUClNs", "start":null, "subscribed":false, "url":"https://trello.com/c/RJPUClNs/2146-2880", "cover":{ "idAttachment":"6541e72f533819ffa9db2190", "color":null, "idUploadedBackground":null, "size":"normal", "brightness":"dark", "scaled":[ { "_id":"6541e730533819ffa9db2304", "id":"6541e730533819ffa9db2304", "scaled":false, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2304/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":1404, "height":50, "width":70 }, { "_id":"6541e730533819ffa9db2306", "id":"6541e730533819ffa9db2306", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2306/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":2696, "height":150, "width":150 }, { "_id":"6541e730533819ffa9db2305", "id":"6541e730533819ffa9db2305", "scaled":false, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2305/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":3190, "height":150, "width":250 }, { "_id":"6541e730533819ffa9db2307", "id":"6541e730533819ffa9db2307", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2307/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":6045, "height":300, "width":300 }, { "_id":"6541e730533819ffa9db2308", "id":"6541e730533819ffa9db2308", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2308/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":15668, "height":600, "width":600 }, { "_id":"6541e730533819ffa9db2309", "id":"6541e730533819ffa9db2309", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2309/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":36151, "height":1024, "width":1024 }, { "_id":"6541e730533819ffa9db230a", "id":"6541e730533819ffa9db230a", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db230a/download/WhatsAppImage2023-08-10at12.26.57PM.jpg", "bytes":42092, "height":1024, "width":1024 } ], "edgeColor":"#fcfcfc", "idPlugin":null }, "isTemplate":false, "cardRole":null }');
                res.setStatusCode(200);
            }
            else if(endpoint.contains('/admin/api/2023-10/products')){
                res.setHeader('Content-Type', 'application/json');
                res.setBody('{ "product": { "id": 6864668786743, "title": "Blue Stone Mens Solitaire Ring", "vendor": "FIERY FLAIR", "product_type": "Ring", "created_at": "2023-11-02T11:51:33+05:30", "handle": "blue-stone-mens-solitaire-ring", "updated_at": "2023-11-02T11:53:34+05:30", "published_at": null, "template_suffix": "", "published_scope": "web", "tags": "cubic_zicronia, label_best_seller, Mens, ring, Rings", "status": "draft", "admin_graphql_api_id": "gid://shopify/Product/6864668786743", "options": [ { "id": 8790823141431, "product_id": 6864668786743, "name": "Gold Color", "position": 1, "values": [ "Yellow", "White" ] } ], "images": [ { "id": 30679043997751, "alt": null, "position": 1, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:37+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043997751", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157", "variant_ids": [ 39930469875767 ] }, { "id": 30679044194359, "alt": null, "position": 2, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:29+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679044194359", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.44PM.jpg?v=1698906161", "variant_ids": [ 40339811926071 ] }, { "id": 30679043899447, "alt": null, "position": 3, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043899447", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM_1.jpg?v=1698906161", "variant_ids": [] }, { "id": 30679044030519, "alt": null, "position": 4, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679044030519", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM.jpg?v=1698906161", "variant_ids": [] }, { "id": 30679043932215, "alt": null, "position": 5, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043932215", "width": 1440, "height": 1440, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/FF-GR1124-MODEL.jpg?v=1698906161", "variant_ids": [] }, { "id": 30679044161591, "alt": null, "position": 6, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:29+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679044161591", "width": 1440, "height": 1440, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.30PM.jpg?v=1698906161", "variant_ids": [] }, { "id": 30679043670071, "alt": null, "position": 7, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:05+05:30", "updated_at": "2023-11-02T11:52:41+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043670071", "width": 1080, "height": 1280, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/Silver_46f7f521-e347-46c7-acd7-e34f2f66ed51.gif?v=1698906161", "variant_ids": [] } ], "image": { "id": 30679043997751, "alt": null, "position": 1, "product_id": 6864668786743, "created_at": "2023-11-02T11:52:21+05:30", "updated_at": "2023-11-02T11:52:37+05:30", "admin_graphql_api_id": "gid://shopify/ProductImage/30679043997751", "width": 1024, "height": 1024, "src": "https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157", "variant_ids": [ 40339811893303 ] } } }');
                //res.setBody('{"product":{"id":6749543530551,"title":"Sleek Design Silver Bangle - White","vendor":"FIERY FLAIR","product_type":"Bangle","created_at":"2023-11-02T11:51:33+05:30","handle":"blue-stone-mens-solitaire-ring","updated_at":"2023-11-02T11:53:34+05:30","published_at":null,"template_suffix":"","published_scope":"web","tags":"cubic_zicronia, label_best_seller, Mens, ring, Rings","status":"draft","admin_graphql_api_id":"gid://shopify/Product/6749543530551","properties":[{"name":"Bangle Size","value":"2_6_60_30"}],"images":[{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[39930469875767]},{"id":30679044194359,"alt":null,"position":2,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044194359","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.44PM.jpg?v=1698906161","variant_ids":[40339811926071]},{"id":30679043899447,"alt":null,"position":3,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043899447","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM_1.jpg?v=1698906161","variant_ids":[]},{"id":30679044030519,"alt":null,"position":4,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044030519","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043932215,"alt":null,"position":5,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043932215","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/FF-GR1124-MODEL.jpg?v=1698906161","variant_ids":[]},{"id":30679044161591,"alt":null,"position":6,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044161591","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.30PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043670071,"alt":null,"position":7,"product_id":6864668786743,"created_at":"2023-11-02T11:52:05+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043670071","width":1080,"height":1280,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/Silver_46f7f521-e347-46c7-acd7-e34f2f66ed51.gif?v=1698906161","variant_ids":[]}],"image":{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[40339811893303]}}}');
                //res.setBody('{"product":{"id":7124676411447,"title":"Solitary Silver Mangalsutra Bracelet - White","vendor":"FIERY FLAIR","product_type":"Bracelet","created_at":"2023-11-02T11:51:33+05:30","handle":"blue-stone-mens-solitaire-ring","updated_at":"2023-11-02T11:53:34+05:30","published_at":null,"template_suffix":"","published_scope":"web","tags":"cubic_zicronia, label_best_seller, Mens, ring, Rings","status":"draft","admin_graphql_api_id":"gid://shopify/Product/6749543530551","properties":[{"name":"Bangle Size","value":"2_6_60_30"}],"images":[{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[39930469875767]},{"id":30679044194359,"alt":null,"position":2,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044194359","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.44PM.jpg?v=1698906161","variant_ids":[40339811926071]},{"id":30679043899447,"alt":null,"position":3,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043899447","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM_1.jpg?v=1698906161","variant_ids":[]},{"id":30679044030519,"alt":null,"position":4,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044030519","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.22PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043932215,"alt":null,"position":5,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043932215","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/FF-GR1124-MODEL.jpg?v=1698906161","variant_ids":[]},{"id":30679044161591,"alt":null,"position":6,"product_id":6864668786743,"created_at":"2023-11-02T11:52:29+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679044161591","width":1440,"height":1440,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.30PM.jpg?v=1698906161","variant_ids":[]},{"id":30679043670071,"alt":null,"position":7,"product_id":6864668786743,"created_at":"2023-11-02T11:52:05+05:30","updated_at":"2023-11-02T11:52:41+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043670071","width":1080,"height":1280,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/Silver_46f7f521-e347-46c7-acd7-e34f2f66ed51.gif?v=1698906161","variant_ids":[]}],"image":{"id":30679043997751,"alt":null,"position":1,"product_id":6864668786743,"created_at":"2023-11-02T11:52:21+05:30","updated_at":"2023-11-02T11:52:37+05:30","admin_graphql_api_id":"gid://shopify/ProductImage/30679043997751","width":1024,"height":1024,"src":"https://cdn.shopify.com/s/files/1/0266/6725/3815/files/WhatsAppImage2023-10-07at1.02.21PM.jpg?v=1698906157","variant_ids":[40339811893303]}}}');
                res.setStatusCode(200); 
            }
            else{
                res.setHeader('Content-Type', 'application/json');
                res.setBody('{ "id":"6541e72dd11841f8c08f42ac", "badges":{ "attachmentsByType":{ "trello":{ "board":0, "card":0 } }, "location":false, "votes":0, "viewingMemberVoted":false, "subscribed":false, "fogbugz":"", "checkItems":0, "checkItemsChecked":0, "checkItemsEarliestDue":null, "comments":0, "attachments":1, "description":true, "due":null, "dueComplete":false, "start":null }, "checkItemStates":[ ], "closed":false, "dueComplete":false, "dateLastActivity":"2023-11-01T06:34:04.396Z", "desc":"Sophisticated Geometric Silver Bracelet - Yellow SKU: FF-BRC1128", "descData":{ "emoji":{ } }, "due":null, "dueReminder":null, "email":null, "idBoard":"645ce768cc64abc7cc3d7e32", "idChecklists":[ ], "idList":"64a8de1b385d6773f0985239", "idMembers":[ ], "idMembersVoted":[ ], "idShort":2146, "idAttachmentCover":"6541e72f533819ffa9db2190", "labels":[ ], "idLabels":[ ], "manualCoverAttachment":false, "name":"#2880", "pos":196608, "shortLink":"RJPUClNs", "shortUrl":"https://trello.com/c/RJPUClNs", "start":null, "subscribed":false, "url":"https://trello.com/c/RJPUClNs/2146-2880", "cover":{ "idAttachment":"6541e72f533819ffa9db2190", "color":null, "idUploadedBackground":null, "size":"normal", "brightness":"dark", "scaled":[ { "_id":"6541e730533819ffa9db2304", "id":"6541e730533819ffa9db2304", "scaled":false, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2304/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":1404, "height":50, "width":70 }, { "_id":"6541e730533819ffa9db2306", "id":"6541e730533819ffa9db2306", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2306/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":2696, "height":150, "width":150 }, { "_id":"6541e730533819ffa9db2305", "id":"6541e730533819ffa9db2305", "scaled":false, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2305/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":3190, "height":150, "width":250 }, { "_id":"6541e730533819ffa9db2307", "id":"6541e730533819ffa9db2307", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2307/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":6045, "height":300, "width":300 }, { "_id":"6541e730533819ffa9db2308", "id":"6541e730533819ffa9db2308", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2308/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":15668, "height":600, "width":600 }, { "_id":"6541e730533819ffa9db2309", "id":"6541e730533819ffa9db2309", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db2309/download/Sophisticated_Geometric_Silver_Bracelet_-_Yellow_30473669607479.jpg", "bytes":36151, "height":1024, "width":1024 }, { "_id":"6541e730533819ffa9db230a", "id":"6541e730533819ffa9db230a", "scaled":true, "url":"https://trello.com/1/cards/6541e72dd11841f8c08f42ac/attachments/6541e72f533819ffa9db2190/previews/6541e730533819ffa9db230a/download/WhatsAppImage2023-08-10at12.26.57PM.jpg", "bytes":42092, "height":1024, "width":1024 } ], "edgeColor":"#fcfcfc", "idPlugin":null }, "isTemplate":false, "cardRole":null }');
                res.setStatusCode(200);
            }
            return res;
        }
    }
}